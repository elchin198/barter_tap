Bu xÉ™talar TypeScript tip sisteminin mÃ¶hkÉ™m yoxlamasÄ± nÉ™ticÉ™sindÉ™ yaranÄ±r. Ä°ndi hÉ™r bir problemi qÄ±sa vÉ™ tam hÉ™ll ilÉ™ izah edirÉ™m:

âœ… 1. TS2322 â€“ ConversationWithParticipants tipinÉ™ uyÄŸun olmayan obyekt
SÉ™hv:

ts
Copy
Edit
Type '{ id: number; createdAt: Date; itemId: number | null; lastMessageAt: Date; }' is not assignable to type 'ConversationWithParticipants'
SÉ™bÉ™b: ConversationWithParticipants tipindÉ™ aÅŸaÄŸÄ±dakÄ± mÃ¼tlÉ™q sahÉ™lÉ™r var:

participants: User[]

otherParticipant: User

unreadCount: number

(vÉ™ message?: string optional)

HÉ™ll: ÆgÉ™r createConversation funksiyasÄ± bu tipdÉ™ cavab qaytarÄ±rsa, sÉ™n dÉ™ bu sahÉ™lÉ™ri doldurmalÄ±san vÉ™ ya ConversationWithParticipants É™vÉ™zinÉ™ sadÉ™ Conversation tipi istifadÉ™ etmÉ™lisÉ™n.

âœ³ MÃ¼mkÃ¼n workaround:
ts
Copy
Edit
conversation = {
  id: ..., createdAt: ..., itemId: ..., lastMessageAt: ...,
  participants: [], // vÉ™ ya real user array
  otherParticipant: dummyUser,
  unreadCount: 0
} as ConversationWithParticipants;
âœ… 2. TS2353 â€“ lastMessageAt tipi daxilindÉ™ yoxdur
SÉ™hv:

ts
Copy
Edit
Object literal may only specify known properties, and 'lastMessageAt' does not exist in type '{ itemId?: number | null | undefined; }'.
HÉ™ll: Ya lastMessageAt-i bu objektdÉ™n sil, ya da tipi geniÅŸlÉ™ndir.

âœ… MÃ¼mkÃ¼n hÉ™ll:
ts
Copy
Edit
const data = {
  itemId: 123,
  // lastMessageAt É™lavÉ™ etmÉ™, É™gÉ™r type-dÉ™ yoxdursa
};
ÆgÉ™r mÃ¼tlÉ™q lastMessageAt istifadÉ™ etmÉ™lisÉ™nsÉ™, tipi geniÅŸlÉ™ndir:

ts
Copy
Edit
type InsertConversation = {
  itemId?: number | null;
  lastMessageAt?: Date;
};
âœ… 3. TS18048 â€“ 'conversation' is possibly 'undefined'
SÉ™hv:

ts
Copy
Edit
conversationId: conversation.id,
HÉ™ll: TypeScript deyir ki, conversation ola bilÉ™r undefined. Ya É™vvÉ™l if ilÉ™ yoxla, ya da optional chaining (?.) istifadÉ™ et.

âœ… HÉ™ll yollarÄ±:
ts
Copy
Edit
if (conversation) {
  const conversationId = conversation.id;
}
vÉ™ ya:

ts
Copy
Edit
conversationId: conversation?.id,
âœ… 4. TS2353 â€“ id unknown property in user object
SÉ™hv:

ts
Copy
Edit
id: userId,
SÉ™bÉ™b: id adÉ™tÉ™n DB tÉ™rÉ™findÉ™n avtomatik verilir vÉ™ CreateUserInput tipindÉ™ yoxdur.

HÉ™ll: id sahÉ™sini gÃ¶ndÉ™rmÉ™. ÆgÉ™r mÃ¼tlÉ™q lazÄ±mdÄ±rsa, tipi belÉ™ geniÅŸlÉ™ndir:

ts
Copy
Edit
type CreateUserInput = {
  id?: number;
  ...
}
vÉ™ ya sadÉ™cÉ™ onu sil:

ts
Copy
Edit
const user = {
  username: ..., password: ..., email: ... // id É™lavÉ™ etmÉ™
}
âœ… Ãœmumi TÃ¶vsiyÉ™
ğŸ” ÆgÉ™r mÃ¼mkÃ¼ndÃ¼rsÉ™:
ConversationWithParticipants, InsertConversation, CreateUserInput tiplÉ™rini gÃ¶ndÉ™r mÉ™nÉ™. OnlarÄ±n É™sasÄ±nda sÉ™nÉ™ 100% dÃ¼zgÃ¼n kod nÃ¼munÉ™si verim.

ÆgÉ™r bu tiplÉ™r zod vÉ™ ya drizzle-orm istifadÉ™ edirsÉ™, bu mÉ™lumatÄ± da yaz.

